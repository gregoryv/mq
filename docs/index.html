<!DOCTYPE html>

<html>
<head>
<style>html, body {
margin: 0 0;
padding: 0 0;
}
body {
padding: 1em 1.612em;
}
p, li {
line-height: 1.3em;
}
a:link {
color: #0000EE;
}
a:visited {
color: #551A8B;
}
a:link, a:visited {
color: #007d9c;
text-decoration: none;
}
a:hover {
text-decoration: underline;
}
td {
vertical-align: top;
}
</style>
</head>
<body>
<article>
<h1>mqtt-v5 Packet Examples</h1>
<nav>Table of contents<ul>
<li class="h2"><a href="#mqpublish">mq.Publish</a></li>
</ul>
</nav>
<h2 id="mqpublish"><a href="#mqpublish">mq.Publish</a></h2>
<table>
<tr><td><code><pre>a := mq.NewPublish()
a.SetTopicName("gopher/pink")
a.SetPayload([]byte("hug"))
a.SetPayloadFormat(true)

b := packets.NewControlPacket(packets.PUBLISH)
c := b.Content.(*packets.Publish)
c.Topic = "gopher/pink"
c.Properties = &packets.Properties{}
pformat := byte(1)
c.Properties.PayloadFormat = &pformat
c.Payload = []byte("hug")
</pre></code></td></tr>
<tr><td>Compare a and b<pre>a 
00000000  30 13 00 0b 67 6f 70 68  65 72 2f 70 69 6e 6b 02  |0...gopher/pink.|
00000010  01 01 68 75 67                                    |..hug|
</pre><pre>b 
00000000  30 13 00 0b 67 6f 70 68  65 72 2f 70 69 6e 6b 02  |0...gopher/pink.|
00000010  01 01 68 75 67                                    |..hug|
</pre><pre>a [48 19 0 11 103 111 112 104 101 114 47 112 105 110 107 2 1 1 104 117 103]
b [48 19 0 11 103 111 112 104 101 114 47 112 105 110 107 2 1 1 104 117 103]</pre>a == b</td></tr>
</table>
</article>
</body>
</html>
